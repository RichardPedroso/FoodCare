<div class="container">
  <div class="admin-header">
    <h1>Dashboard Administrativo</h1>
    <p class="text-secondary">Controle de estoque de produtos</p>
  </div>

  @if(loading) {
  <div class="loading-container">
    <p>Carregando dados...</p>
  </div>
  } @else {
  <div class="actions-section">
    <div class="manage-section">
      <div class="action-card card manage-card" (click)="navigateToManageDonations()">
        <div class="action-icon">üìã</div>
        <h3>Gerenciar Doa√ß√µes</h3>
        <p>Verificar e aprovar doa√ß√µes</p>
      </div>
      <div class="action-card card manage-card" (click)="navigateToManageUsers()">
        <div class="action-icon">üë•</div>
        <h3>Gerenciar Usu√°rios</h3>
        <p>Verificar e aprovar benefici√°rios</p>
      </div>
      <div class="action-card card manage-card" (click)="navigateToManageRequests()">
        <div class="action-icon">üõí</div>
        <h3>Gerenciar Solicita√ß√µes</h3>
        <p>Verificar e aprovar solicita√ß√µes de cestas</p>
      </div>
    </div>
    
    <div class="stock-actions-grid">
      <div class="action-card card" (click)="showBasicProducts()">
        <div class="action-icon">üì¶</div>
        <h3>Verificar estoque de "Produtos B√°sicos"</h3>
        <p>Visualize o estoque de alimentos b√°sicos</p>
      </div>
      
      <div class="action-card card" (click)="showHygieneProducts()">
        <div class="action-icon">üß¥</div>
        <h3>Verificar estoque de "Produtos de Higiene"</h3>
        <p>Visualize o estoque de produtos de higiene</p>
      </div>
      
      <div class="action-card card" (click)="showInfantProducts()">
        <div class="action-icon">üçº</div>
        <h3>Verificar estoque de "Produtos Infantis"</h3>
        <p>Visualize o estoque de produtos infantis</p>
      </div>
    </div>
  </div>
  }

  @if (showBasicChart || showHygieneChart || showInfantChart) {
  <div class="charts-container">
    <!-- Gr√°fico Produtos B√°sicos -->
    @if (showBasicChart) {
    <div class="chart-card card">
      <h2>Produtos B√°sicos</h2>
      <div class="chart-container">
        <div class="y-axis">
          @for (label of getYAxisLabels(); track label) {
          <div class="y-label">{{label}}</div>
          }
        </div>
        <div class="chart-area">
          <div class="chart">
            <div class="bars-container">
              @for (product of basicProducts; track product.id) {
              <div class="bar-item">
                <div class="bar-wrapper">
                  <div class="bar" [style.height]="getBarHeight(product.totalStock)"></div>
                  <span class="stock-value">{{product.totalStock}}</span>
                </div>
                <span class="product-name">{{product.name}}</span>
              </div>
              }
            </div>
          </div>
        </div>
      </div>
    </div>
    }

    <!-- Gr√°fico Produtos de Higiene -->
    @if (showHygieneChart) {
    <div class="chart-card card">
      <h2>Produtos de Higiene</h2>
      <div class="chart-container">
        <div class="y-axis">
          @for (label of getYAxisLabels(); track label) {
          <div class="y-label">{{label}}</div>
          }
        </div>
        <div class="chart-area">
          <div class="chart">
            <div class="bars-container">
              @for (product of hygieneProducts; track product.id) {
              <div class="bar-item">
                <div class="bar-wrapper">
                  <div class="bar" [style.height]="getBarHeight(product.totalStock)"></div>
                  <span class="stock-value">{{product.totalStock}}</span>
                </div>
                <span class="product-name">{{product.name}}</span>
              </div>
              }
            </div>
          </div>
        </div>
      </div>
    </div>
    }

    <!-- Gr√°fico Produtos Infantis -->
    @if (showInfantChart) {
    <div class="chart-card card">
      <h2>Produtos Infantis</h2>
      <div class="chart-container">
        <div class="y-axis">
          @for (label of getYAxisLabels(); track label) {
          <div class="y-label">{{label}}</div>
          }
        </div>
        <div class="chart-area">
          <div class="chart">
            <div class="bars-container">
              @for (product of infantProducts; track product.id) {
              <div class="bar-item">
                <div class="bar-wrapper">
                  <div class="bar" [style.height]="getBarHeight(product.totalStock)"></div>
                  <span class="stock-value">{{product.totalStock}}</span>
                </div>
                <span class="product-name">{{product.name}}</span>
              </div>
              }
            </div>
          </div>
        </div>
      </div>
    </div>
    }
  </div>
  }
</div>
